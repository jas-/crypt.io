/* v1.0.0 https://github.com/jas-/crypt.io MIT */
!function(a,b){"use strict";var c=c||function(){var d={encrypt:!0,passphrase:"",storage:"local"},e=e||{init:function(a){a.passphrase=!!a.encrypt&&(a.passphrase||g.key(a))}},f=f||{quota:function(a){var b=/local|session/.test(a)?5248e3:4096,c=h.total(a),d=b-c;return d>0},set:function(a,b,c,d){var e=!1;f.quota(a.storage)||d("Browser storage quota has been exceeded."),a.data=a.encrypt?sjcl.encrypt(a.passphrase,f.fromJSON(c)):f.fromJSON(c),e=this[a.storage]?this[a.storage].set(a,b,c):this.local.set(a,b,c),e?d(null,"Successfully set data"):d("Error occured saving data")},get:function(a,b,c){var d=!1;d=this[a.storage]?this[a.storage].get(a,b):this.local.get(a,b),d=sjcl.decrypt(a.passphrase,d),d=f.toJSON(d),d?c(null,d):c("Error occured retrieving storage data")},fromJSON:function(a){var b;try{b=JSON.stringify(a)}catch(c){b=a}return b},toJSON:function(a){var b;try{b=JSON.parse(a)}catch(c){b=a}return b},cookie:{set:function(a,b){var c=new Date;return c.setTime(c.getTime()+2592e6),document.cookie=a+"="+b+";expires="+c.toGMTString()+";path=/;domain="+this.domain(),!0},get:function(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b++)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return unescape(d);return!1},domain:function(){return location.hostname}},local:{set:function(b,c,d){try{return a.localStorage.setItem(b,c,d),!0}catch(a){return!1}},get:function(b,c){return a.localStorage.getItem(b,c)}},session:{set:function(b,c,d){try{return a.sessionStorage.setItem(b,c,d),!0}catch(a){return!1}},get:function(b){return a.sessionStorage.getItem(b.key)}}},g=g||{key:function(){var a=g.muid(),b=g.salt(a);return sjcl.codec.hex.fromBits(sjcl.misc.pbkdf2(a,b,1e4,256))},muid:function(){var b=a.navigator.appName+a.navigator.appCodeName+a.navigator.product+a.navigator.productSub+a.navigator.appVersion+a.navigator.buildID+a.navigator.userAgent+a.navigator.language+a.navigator.platform+a.navigator.oscpu;return b.replace(/\s/,"")},salt:function(a){var b,c,d=[],e=g.iv(a);d[0]=sjcl.hash.sha256.hash(a),b=[],b=d[0],c;for(var f=1;f<3;f++)d[f]=sjcl.hash.sha256.hash(d[f-1].concat(e)),c=b.concat(d[f]);return JSON.stringify(sjcl.codec.hex.fromBits(c))},iv:function(a){return encodeURI(a.replace(/-/gi,"").substring(16,Math.ceil(16*a.length)%a.length))}},h=h||{total:function(b){var c="",d=a.storage+"Storage";for(var e in d)d.hasOwnProperty(e)&&(c+=d[e]);return c?3+16*c.length/8192:0},size:function(a){var b=0;if(/object/.test(typeof a))for(var c in a)a.hasOwnProperty(a[c])&&b++;else/array/.test(typeof a)&&(b=a.length);return b},merge:function(a,b){a=a||{};for(var c in a)a.hasOwnProperty(c)&&(b[c]=/object/.test(typeof a[c])?this.merge(b[c],a[c]):a[c]),b[c]=a[c];return b}};c.prototype.get=function(a,b,c){c=c||b;var g=h.merge(a,d);e.init(g),f.get(g,b,c)},c.prototype.set=function(a,c,g,i){i==b&&(i=g,g=c,c=a,a={});var j=h.merge(a,d);e.init(j),f.set(j,c,g,i)}};a.cryptio=new c}(window);